<!DOCTYPE html>
<html>
<head>
	<title>Assignment 8.2 - Front End Web Development Fundamentals</title>
	<style type="text/css">
		/*Applying basic style to h1 and body contents*/
		h1
		{
			color:blue;
			font-size: 30px;
			font-family: arial;
			text-decoration: underline;
			text-align:center;
		}
		body
		{
			font-size: 18px;
			font-family: sans-serif;
		}
	</style>
</head>
<body>
<div style="text-align: center;">
	<p>Login</p><br>
	<form onsubmit="return false">
	<input type="email" placeholder="email" id="emailField" required /><br>
	<input type="password" id="pwdField" placeholder="Password" required /><br>
	<input type="submit" value="Submit Query" onclick="return onSubmitClick();"/><br>
	<p id="message"></p> 
	<input type="button" value="Back" onclick="location.href='index.html';">
	</form>
</div>
<script type="text/javascript">
/*On submitting, the email and password will be checked from the local storage and the page will be redirected to welcome.html*/
	function onSubmitClick()
	{
		var email=document.getElementById("emailField").value;
		var pwd=document.getElementById("pwdField").value;
		
		if ((email==='')||(pwd==='')) 
		{
			alert("Please enter all of the field values before submitting!");
		}
		else
		{
			//checks if local storage exists
			if (typeof(Storage) !== "undefined") 
			{
    			if (email === localStorage.getItem("emailID") && pwd === localStorage.getItem("password")) 
    			{
    				//Redirects to welcome.html
    				RedirectTo();
					return false;
    			}
    			else
    			{
    				document.getElementById("message").innerHTML="user or password is incorrect";
    			}
			} 
			else 
			{
    			alert("Local storage not supported!");
			}
		}
	}
	function RedirectTo() 
	{
               window.location.href="../HTML/welcome.html";
    }
</script>
</body>
</html>